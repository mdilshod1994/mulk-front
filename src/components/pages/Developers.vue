<template>
    <div class="developer">
        <Header class="descTop-version"/>
            <div class="container container_custom">
                <h1 class="developer__title">
                    Застройщики Таджикистана
                </h1>
                <!-- <p class="developer__subtitle">
                    Строительные компании Душанбе
                </p> -->
                <div class="wrapper-developers">
                    <div class="developers-wrap" v-for="developer in this.developers" :key="developer.id" @click="toPushDeveloper(developer)">
                        <div class="developers-wrap__img">
                            <img class="" :src="developer.logo" alt="">
                        </div>
                        <div class="developers-wrap__content">
                            <h4>
                                {{ developer.name }}
                            </h4>
                            <p>
                                передовая строительная компания, которая ведёт свою деятельность на рынке недвижимости Таджикистана уже более 5 лет.
                            </p>
                            <p>
                                В активной продаже: <span>{{ developer.active_on_sale }} объект</span>  <br> Построено объектов: <span>1 объект</span>  <br> Строится: <span>1 объект</span>
                            </p>
                            <div class="wrapper-devloper-soc-media">
                                <router-link to="">
                                    <span v-html="site">
                                        {{ site }}
                                    </span>
                                </router-link>
                                <router-link to="">
                                    <span v-html="fb">
                                        {{fb}}
                                    </span>
                                </router-link>
                                <router-link to="">
                                    <span v-html="insta">
                                        {{insta }}
                                    </span>
                                </router-link>
                                <router-link to="">
                                    <span v-html="youtube">
                                        {{youtube}}
                                    </span>
                                </router-link>
                            </div>
                        </div>
                    </div>
                </div>
                <paginate
                    :click-handler="clickCallback"
                    :container-class="'pagination'"
                    :margin-pages="2"
                    :next-text="'>'"
                    :page-class="'page-items'"
                    :page-count="totalPage"
                    :page-range="2"
                    :prev-text="'<'">
                </paginate>
            </div>
        <Footer />
    </div>
</template>

<script>
import Vue from 'vue'
import Header from '../subcomponents/Header.vue'
import Footer from '../subcomponents/Footer.vue'
import axios from 'axios'
import { mapGetters, mapActions } from 'vuex'
import Paginate from 'vuejs-paginate'
var config = require('../../../config/prod.env')
Vue.component('paginate', Paginate)


export default {
    components:{
        Header,
        Footer,
    },
    data(){
        return{
            youtube:'<svg width="19" height="13" viewBox="0 0 19 13" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M18.1372 2.06759C17.9308 1.30775 17.3227 0.709322 16.5507 0.506237C15.1512 0.137207 9.53955 0.137207 9.53955 0.137207C9.53955 0.137207 3.92792 0.137207 2.52843 0.506237C1.75635 0.709354 1.14827 1.30775 0.941879 2.06759C0.566895 3.44485 0.566895 6.31837 0.566895 6.31837C0.566895 6.31837 0.566895 9.1919 0.941879 10.5692C1.14827 11.329 1.75635 11.9025 2.52843 12.1056C3.92792 12.4746 9.53955 12.4746 9.53955 12.4746C9.53955 12.4746 15.1512 12.4746 16.5507 12.1056C17.3227 11.9025 17.9308 11.329 18.1372 10.5692C18.5122 9.1919 18.5122 6.31837 18.5122 6.31837C18.5122 6.31837 18.5122 3.44485 18.1372 2.06759ZM7.70422 8.92732V3.70943L12.3945 6.31844L7.70422 8.92732Z" fill="#4EA2DA"/> </svg>',
            insta:'<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M8.62175 4.99203C6.23471 4.99203 4.30932 6.91785 4.30932 9.30542C4.30932 11.693 6.23471 13.6188 8.62175 13.6188C11.0088 13.6188 12.9342 11.693 12.9342 9.30542C12.9342 6.91785 11.0088 4.99203 8.62175 4.99203ZM8.62175 12.1097C7.07918 12.1097 5.81811 10.8521 5.81811 9.30542C5.81811 7.75876 7.07543 6.50115 8.62175 6.50115C10.1681 6.50115 11.4254 7.75876 11.4254 9.30542C11.4254 10.8521 10.1643 12.1097 8.62175 12.1097ZM14.1164 4.81559C14.1164 5.37494 13.6661 5.82167 13.1106 5.82167C12.5514 5.82167 12.1047 5.37119 12.1047 4.81559C12.1047 4.25999 12.5551 3.80951 13.1106 3.80951C13.6661 3.80951 14.1164 4.25999 14.1164 4.81559ZM16.9726 5.83669C16.9088 4.48899 16.6011 3.2952 15.614 2.31164C14.6306 1.32808 13.4371 1.02025 12.0897 0.952681C10.701 0.873846 6.53872 0.873846 5.15004 0.952681C3.80639 1.0165 2.61287 1.32433 1.62578 2.30789C0.638688 3.29145 0.334678 4.48523 0.267121 5.83293C0.188303 7.22193 0.188303 11.3852 0.267121 12.7742C0.330925 14.1219 0.638688 15.3156 1.62578 16.2992C2.61287 17.2828 3.80264 17.5906 5.15004 17.6582C6.53872 17.737 10.701 17.737 12.0897 17.6582C13.4371 17.5943 14.6306 17.2865 15.614 16.2992C16.5973 15.3156 16.9051 14.1219 16.9726 12.7742C17.0514 11.3852 17.0514 7.22568 16.9726 5.83669ZM15.1786 14.2645C14.8858 15.0003 14.3191 15.5672 13.5797 15.8637C12.4725 16.303 9.84529 16.2016 8.62175 16.2016C7.39821 16.2016 4.76721 16.2992 3.66377 15.8637C2.92814 15.5709 2.36141 15.0041 2.06491 14.2645C1.62578 13.1571 1.72712 10.5292 1.72712 9.30542C1.72712 8.0816 1.62953 5.45002 2.06491 4.34633C2.35766 3.61054 2.92439 3.04368 3.66377 2.74711C4.77096 2.30789 7.39821 2.40925 8.62175 2.40925C9.84529 2.40925 12.4763 2.31164 13.5797 2.74711C14.3154 3.03993 14.8821 3.60679 15.1786 4.34633C15.6177 5.45378 15.5164 8.0816 15.5164 9.30542C15.5164 10.5292 15.6177 13.1608 15.1786 14.2645Z" fill="#4EA2DA"/> </svg>',
            site:'<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M14.8502 3.35738C13.2614 1.76852 11.149 0.893555 8.90203 0.893555C6.65511 0.893555 4.54277 1.76855 2.954 3.35738C1.36524 4.94617 0.490234 7.05857 0.490234 9.30549C0.490234 11.5524 1.3652 13.6648 2.954 15.2536C4.54277 16.8423 6.65514 17.7173 8.90203 17.7173C11.1489 17.7173 13.2613 16.8423 14.8502 15.2535C16.439 13.6648 17.314 11.5524 17.314 9.30545C17.314 7.05853 16.439 4.94617 14.8502 3.35738ZM15.2789 6.76474C14.9725 6.7883 14.7325 6.69935 14.4286 6.58671C14.22 6.5094 13.9834 6.42173 13.7062 6.36662C12.9589 6.21813 12.1924 6.62552 11.7533 7.40454C11.6255 7.63139 11.0141 8.79943 11.5343 9.51605C11.7294 9.7847 11.9904 9.94114 12.2001 10.0668C12.4815 10.2355 12.7724 10.4098 13.1021 10.5429C13.1723 10.5712 13.2418 10.5968 13.3089 10.6216C13.5088 10.6954 13.7156 10.7717 13.7895 10.873C13.8309 10.9297 13.8742 11.0575 13.8447 11.3437C13.825 11.5352 13.7483 11.7441 13.6672 11.9653C13.4674 12.5103 13.1936 13.2568 13.8351 13.9897C13.9499 14.1208 14.0794 14.2319 14.2201 14.3223C12.8855 15.7362 10.9952 16.6201 8.90203 16.6201C4.86873 16.6201 1.58743 13.3387 1.58743 9.30549C1.58743 8.52834 1.7097 7.77929 1.93524 7.07608C2.05235 7.24366 2.18457 7.39264 2.31141 7.52615C2.71712 7.95328 3.16561 8.34368 3.64644 8.6879C3.68209 8.71344 3.73286 8.74978 3.75931 8.77357C3.77738 8.85437 3.77012 8.97072 3.76194 9.10324C3.74452 9.38408 3.72063 9.7687 3.93274 10.1734C4.07091 10.4371 4.26435 10.64 4.43502 10.8191C4.60122 10.9935 4.74475 11.144 4.78487 11.2901C4.81346 11.3942 4.8013 11.5473 4.78839 11.7095C4.77064 11.9329 4.7505 12.1862 4.81494 12.4586C4.90155 12.8247 5.10827 13.0961 5.29064 13.3354C5.40561 13.4863 5.51421 13.6289 5.56133 13.7594C5.59764 13.8601 5.61233 13.9959 5.6278 14.1396C5.64334 14.2837 5.66099 14.447 5.70403 14.6152C5.83304 15.1191 6.2513 15.6027 6.81569 15.6026C6.84575 15.6026 6.87634 15.6012 6.90723 15.5984C7.49166 15.545 7.89297 15.0228 7.95448 14.2355C7.96444 14.1081 7.99066 13.7722 8.05565 13.6981C8.07576 13.6901 8.12476 13.6781 8.1611 13.6692C8.3157 13.6314 8.54929 13.5741 8.74231 13.3764C9.09781 13.0124 8.99979 12.5559 8.9412 12.2832C8.92359 12.2011 8.90358 12.108 8.90473 12.0595C8.90785 11.9295 9.17404 11.7021 9.27426 11.6165L10.277 10.76C10.6674 10.4299 10.8134 9.85564 10.6404 9.33112C10.5168 8.95666 10.2434 8.61995 9.84949 8.35734C9.36354 8.03345 8.83816 7.95042 8.40826 8.12953C8.26207 8.19042 8.14388 8.27395 8.04888 8.34108C8.02013 8.36142 7.98225 8.3882 7.95142 8.40775C7.93726 8.39198 7.92093 8.37016 7.90578 8.34236C7.86964 8.27605 7.83717 8.18996 7.80277 8.09881C7.75749 7.97888 7.70617 7.84291 7.63023 7.70605C7.22386 6.97379 6.56004 6.89256 6.07537 6.83329C5.99254 6.82316 5.91427 6.81357 5.83623 6.80151C5.42822 6.73839 5.01314 6.55924 4.69451 6.31274C4.81129 6.27074 4.95403 6.23838 5.03085 6.24137C5.08645 6.24321 5.15161 6.25063 5.22068 6.25849C5.41859 6.28106 5.6648 6.30909 5.93017 6.2347C6.19807 6.15961 6.39559 6.00534 6.55426 5.8814C6.59954 5.84604 6.64229 5.81262 6.68172 5.78496C6.75598 5.73284 6.90046 5.72078 7.05342 5.708C7.43436 5.67619 8.22701 5.61005 8.33923 4.50786C8.39476 3.96254 8.19557 3.47432 8.03551 3.08202C7.9024 2.75567 7.77323 2.43174 7.66052 2.09655C8.0642 2.02735 8.47891 1.99078 8.9021 1.99078C9.81013 1.99078 10.6798 2.1576 11.4828 2.46132C11.4587 2.48497 11.4346 2.5086 11.4106 2.53216C11.1667 2.77131 10.9146 3.01864 10.7411 3.24329C10.6677 3.33829 10.5449 3.49722 10.5087 3.72612C10.4474 4.11445 10.6796 4.41277 10.7787 4.54013C10.9261 4.7295 11.1728 5.04645 11.5803 5.14809C11.6713 5.17076 11.7592 5.18048 11.8435 5.18048C12.1505 5.18048 12.4117 5.05191 12.6141 4.95218C12.7307 4.89478 12.8513 4.8354 12.9234 4.82962C12.992 4.824 13.1131 4.86392 13.2304 4.90237C13.4017 4.95856 13.5959 5.02217 13.8246 5.03048C14.1255 5.04126 14.3924 4.93227 14.6018 4.72647C15.0875 5.32989 15.4796 6.01162 15.7558 6.74963C15.7167 6.75064 15.6768 6.7512 15.6413 6.75163C15.5336 6.75301 15.4118 6.75456 15.2789 6.76474Z" fill="#4EA2DA"/> </svg>',
            fb:'<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M15.8703 0.893555H2.65166C2.1736 0.893555 1.71512 1.08346 1.37707 1.42151C1.03903 1.75955 0.849121 2.21803 0.849121 2.6961L0.849121 15.9147C0.849121 16.3928 1.03903 16.8513 1.37707 17.1893C1.71512 17.5274 2.1736 17.7173 2.65166 17.7173H7.80581V11.9976H5.43997V9.30542H7.80581V7.25353C7.80581 4.91961 9.19527 3.63042 11.3234 3.63042C12.3426 3.63042 13.4083 3.81217 13.4083 3.81217V6.1029H12.2341C11.0771 6.1029 10.7162 6.82092 10.7162 7.55733V9.30542H13.2991L12.886 11.9976H10.7162V17.7173H15.8703C16.3484 17.7173 16.8069 17.5274 17.1449 17.1893C17.4829 16.8513 17.6729 16.3928 17.6729 15.9147V2.6961C17.6729 2.21803 17.4829 1.75955 17.1449 1.42151C16.8069 1.08346 16.3484 0.893555 15.8703 0.893555Z" fill="#4EA2DA"/> </svg>',
            armon: require('../../assets/img/developers/logo-armon.png'),
            arc: require('../../assets/img/developers/logo-arc.png'),
            tojMemor: require('../../assets/img/developers/logoTojMemor.png'),
            developers:[],
            totalPage: 1,
        }
    },
    computed:{
        ...mapGetters([
            'DEVELOPERS'
        ]),
    },
    methods:{
        ...mapActions([
            'GET_DEVELOPERS'
        ]),
        toPushDeveloper(developer){
            this.$router.push({path:'/developer/' + developer.id})
        },
        clickCallback(el){
            if(el === undefined){
                sessionStorage.setItem('currPage', 1)
            }else{
                sessionStorage.setItem('currPage', el)
            }
            let curPage = sessionStorage.getItem('currPage')
            let toNumber = parseInt(curPage)
            axios.get(config.BASE_URL + `developer?page=${toNumber}`)
            .then((res)=>{
                this.totalPage = res.data.meta.last_page
                this.developers = res.data.data
            })
        },
    },
    created(){
        this.clickCallback()
    },
    mounted() {
        this.GET_DEVELOPERS()
    },
}
</script>
